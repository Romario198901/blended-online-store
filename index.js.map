{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com/';\nexport const API_ENDPOINTS = {\n    CATEGORIES: '/products/category-list',\n    PRODUCTS: '/products',\n}\nexport const ITEMS_PER_PAGE = 12;\n","import axios from \"axios\";\nimport { API_ENDPOINTS, BASE_URL, ITEMS_PER_PAGE } from \"./constants\";\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getCategories() {\n    const {data} = await axios.get(API_ENDPOINTS.CATEGORIES);\n    return data;\n}\nexport async function getProducts(page = 1) {\n    const skip = (page - 1) * ITEMS_PER_PAGE;\n    const {data} = await axios.get(`${API_ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`);\n    return data;\n}","export const refs = {\n    categoriesList: document.querySelector('.categories'),\n    productsList: document.querySelector('.products'),\n    loadMoreButton: document.querySelector('.load-more-btn'),\n};","import { refs } from './refs';\n\nexport function renderCategoryList(categories) {\n  const allCategories = ['All', ...categories];\n  const markup = allCategories\n    .map(\n      category => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n  const firstCategoryBtn = document.querySelector('.categories__btn');\n  firstCategoryBtn.classList.add('categories__btn--active');\n}\nexport function renderProducts(products) {\n  const markup = products\n    .map(({id, images, title, brand, category, price}) => {\n      return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand || \"Unknown\"}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}</p>\n </li>`;\n    })\n    .join('');\n    refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\nexport function showLoadMoreButton() {\n    refs.loadMoreButton.classList.remove('is-hidden');\n}\nexport function hideLoadMoreButton() {\n    refs.loadMoreButton.classList.add('is-hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { ITEMS_PER_PAGE } from './constants';\nimport { getCategories, getProducts } from './products-api';\nimport {\n    hideLoadMoreButton,\n  renderCategoryList,\n  renderProducts,\n  showLoadMoreButton,\n} from './render-function';\n let currentPage = 1;\n let totalPages;\nexport async function initHomepage() {\n  const categories = await getCategories();\n  renderCategoryList(categories);\n  const { products } = await getProducts();\n  renderProducts(products);\n  showLoadMoreButton();\n}\nexport async function loadMoreBtnClicked() {\n  currentPage += 1;\n  const { products, total } = await getProducts(currentPage);\n  console.log({products, total});\n  totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n  if (currentPage <= totalPages) {\n    renderProducts(products);\n  }\n  else {\niziToast.warning({\n     title: '❌',\n          titleColor: '#fafafb',\n          message: `You reached end of the catalogue`,\n          messageColor: '#fafafb',\n          backgroundColor: '#ef4040',\n          position: 'bottomRight',\n})\n  hideLoadMoreButton();\nreturn;\n  }\n}\n\n","import { initHomepage, loadMoreBtnClicked } from \"./js/handlers\";\nimport { refs } from \"./js/refs\";\n\n\n//Логіка сторінки Home\ndocument.addEventListener('DOMContentLoaded', initHomepage);\nrefs.loadMoreButton.addEventListener('click', loadMoreBtnClicked);\n"],"names":["BASE_URL","API_ENDPOINTS","ITEMS_PER_PAGE","axios","getCategories","data","getProducts","page","skip","refs","renderCategoryList","categories","markup","category","renderProducts","products","id","images","title","brand","price","showLoadMoreButton","hideLoadMoreButton","currentPage","totalPages","initHomepage","loadMoreBtnClicked","total","iziToast"],"mappings":"2FAAO,MAAMA,EAAW,yBACXC,EAAgB,CACzB,WAAY,0BACZ,SAAU,WACd,EACaC,EAAiB,GCH9BC,EAAM,SAAS,QAAUH,EAElB,eAAeI,GAAgB,CAClC,KAAM,CAAC,KAAAC,CAAI,EAAI,MAAMF,EAAM,IAAIF,EAAc,UAAU,EACvD,OAAOI,CACX,CACO,eAAeC,EAAYC,EAAO,EAAG,CACxC,MAAMC,GAAQD,EAAO,GAAKL,EACpB,CAAC,KAAAG,CAAI,EAAI,MAAMF,EAAM,IAAI,GAAGF,EAAc,QAAQ,UAAUC,CAAc,SAASM,CAAI,EAAE,EAC/F,OAAOH,CACX,CCZO,MAAMI,EAAO,CAChB,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,EAChD,eAAgB,SAAS,cAAc,gBAAgB,CAC3D,ECFO,SAASC,EAAmBC,EAAY,CAE7C,MAAMC,EADgB,CAAC,MAAO,GAAGD,CAAU,EAExC,IACCE,GAAY;AAAA,mDACiCA,CAAQ;AAAA,OAE3D,EACK,KAAK,EAAE,EACVJ,EAAK,eAAe,UAAYG,EACP,SAAS,cAAc,kBAAkB,EACjD,UAAU,IAAI,yBAAyB,CAC1D,CACO,SAASE,EAAeC,EAAU,CACvC,MAAMH,EAASG,EACZ,IAAI,CAAC,CAAC,GAAAC,EAAI,OAAAC,EAAQ,MAAAC,EAAO,MAAAC,EAAO,SAAAN,EAAU,MAAAO,CAAK,IACvC,uCAAuCJ,CAAE;AAAA,wCACdC,EAAO,CAAC,CAAC,UAAUC,CAAK;AAAA,iCAC/BA,CAAK;AAAA,4EACsCC,GAAS,SAAS;AAAA,8CAChDN,CAAQ;AAAA,wCACdO,CAAK;AAAA,OAExC,EACA,KAAK,EAAE,EACRX,EAAK,aAAa,mBAAmB,YAAaG,CAAM,CAC5D,CACO,SAASS,GAAqB,CACjCZ,EAAK,eAAe,UAAU,OAAO,WAAW,CACpD,CACO,SAASa,GAAqB,CACjCb,EAAK,eAAe,UAAU,IAAI,WAAW,CACjD,CCxBC,IAAIc,EAAc,EACdC,EACE,eAAeC,GAAe,CACnC,MAAMd,EAAa,MAAMP,EAAa,EACtCM,EAAmBC,CAAU,EAC7B,KAAM,CAAE,SAAAI,GAAa,MAAMT,EAAW,EACtCQ,EAAeC,CAAQ,EACvBM,EAAkB,CACpB,CACO,eAAeK,GAAqB,CACzCH,GAAe,EACf,KAAM,CAAE,SAAAR,EAAU,MAAAY,CAAK,EAAK,MAAMrB,EAAYiB,CAAW,EAGzD,GAFA,QAAQ,IAAI,CAAC,SAAAR,EAAU,MAAAY,CAAK,CAAC,EAC7BH,EAAa,KAAK,KAAKG,EAAQzB,CAAc,EACzCqB,GAAeC,EACjBV,EAAeC,CAAQ,MAEpB,CACPa,EAAS,QAAQ,CACZ,MAAO,IACF,WAAY,UACZ,QAAS,mCACT,aAAc,UACd,gBAAiB,UACjB,SAAU,aACpB,CAAC,EACCN,EAAkB,EACpB,MACE,CACF,CClCA,SAAS,iBAAiB,mBAAoBG,CAAY,EAC1DhB,EAAK,eAAe,iBAAiB,QAASiB,CAAkB"}